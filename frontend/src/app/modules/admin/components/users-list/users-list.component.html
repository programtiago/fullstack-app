<mat-card>
    <mat-card-header>
        <mat-card-title>Users management</mat-card-title>
    </mat-card-header>

    <mat-card-content>
        <mat-toolbar style="justify-content: center; align-items: center;">
            <span>Lista de Utilizadores</span>
            <button mat-button>
              <mat-icon>filter_alt</mat-icon>
            </button>  
          </mat-toolbar>  
          <div *ngIf="users$ | async as users; else loading">
            <mat-table [dataSource]="users" class="mat-elevation-z8">
                <ng-container matColumnDef="firstName">
                  <mat-header-cell *matHeaderCellDef> Primeiro Nome </mat-header-cell>
                  <mat-cell *matCellDef="let user"> {{user.firstName}} </mat-cell>
                </ng-container>
              
                <ng-container matColumnDef="lastName">
                  <mat-header-cell *matHeaderCellDef> Último Nome </mat-header-cell>
                  <mat-cell *matCellDef="let user"> {{user.lastName}} </mat-cell>
                </ng-container>
              
                <ng-container matColumnDef="workNumber">
                  <mat-header-cell *matHeaderCellDef> Número Mecanográfico </mat-header-cell>
                  <mat-cell *matCellDef="let user"> {{user.workNumber}} </mat-cell>
                </ng-container>

                <ng-container matColumnDef="email">
                  <mat-header-cell *matHeaderCellDef> Email </mat-header-cell>
                  <mat-cell *matCellDef="let user"> {{user.email}} </mat-cell>
                </ng-container>

                <ng-container matColumnDef="role">
                    <mat-header-cell *matHeaderCellDef> Role </mat-header-cell>
                    <mat-cell *matCellDef="let user"> {{user.userRole}} </mat-cell>
                  </ng-container>

                  <ng-container matColumnDef="actions">
                    <mat-header-cell *matHeaderCellDef>
                      <button mat-mini-fab color="accent" aria-label="Adicionar um utilizador">
                        <mat-icon>add</mat-icon>
                      </button>
                    </mat-header-cell>

                      <mat-cell *matCellDef="let user">
                        <button mat-icon-button color="primary" aria-label="Editar um utilizador">
                          <mat-icon routerLink="/admin/edit/{{user.id}}">edit</mat-icon>
                        </button>
                  
                        <button mat-icon-button color="warn" aria-label="Eliminar um utilizador">
                          <mat-icon>delete</mat-icon>
                        </button>

                        <button mat-icon-button [matMenuTriggerFor]="menu" color="primary">
                          <mat-icon>more_vert</mat-icon>
                        </button>
                        <mat-menu #menu="matMenu">
                          <button mat-menu-item>
                            <span>Assign equipment</span>
                          </button>
                        </mat-menu>
                      </mat-cell>
                  </ng-container>
              
                <mat-header-row *matHeaderRowDef="displayedColumns"></mat-header-row>
                <mat-row *matRowDef="let row; columns: displayedColumns;"></mat-row>
              </mat-table>
            </div> 
              <ng-template #loading>
                <div class="loading-spinner">
                  <mat-spinner></mat-spinner>
                </div>
              </ng-template>

    </mat-card-content>
</mat-card>